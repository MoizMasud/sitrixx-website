---
import MainLayout from '../../layouts/main.astro';
---

<MainLayout title="Admin Test">
  <div class="min-h-screen bg-background flex items-center justify-center">
    <div class="text-center p-8 border rounded-xl">
      <h1 class="text-2xl font-bold mb-4">Admin Test Page</h1>
      <p class="text-muted-foreground mb-4">This is a simple test page</p>
      <button 
        onclick="checkAuth()"
        class="px-4 py-2 bg-primary text-primary-foreground rounded-lg"
      >
        Check Auth Status
      </button>
      <div id="result" class="mt-4 text-sm"></div>
    </div>
  </div>

  <script>
    function checkAuth() {
      const token = localStorage.getItem('sitrixx_token');
      const user = localStorage.getItem('sitrixx_user');
      const result = document.getElementById('result');
      
      if (result) {
        result.innerHTML = `
          <div class="space-y-2 text-left">
            <p><strong>Token:</strong> ${token ? 'Found (length: ' + token.length + ')' : 'Not found'}</p>
            <p><strong>User:</strong> ${user || 'Not found'}</p>
          </div>
        `;
      }
      
      console.log('Token:', token);
      console.log('User:', user);
    }
    
    // Auto-run on load
    checkAuth();
  </script>
</MainLayout>
